System.register("src/draggable.component",["node_modules/@angular/core/bundles/core.umd","src/abstract.component","src/dnd.config","src/dnd.service"],function(e,t){"use strict";var r,a,o,n,s,i,c;t&&t.id;return{setters:[function(e){r=e,a=e},function(e){o=e},function(e){n=e},function(e){s=e}],execute:function(){i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},e("DraggableComponent",c=function(e){function t(t,r,o,n){e.call(this,t,r,o,n),this.onDragStart=new a.EventEmitter,this.onDragEnd=new a.EventEmitter,this.onDragSuccessCallback=new a.EventEmitter,this._defaultCursor=this._elem.style.cursor,this.dragEnabled=!0}return i(t,e),Object.defineProperty(t.prototype,"draggable",{set:function(e){this.dragEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropzones",{set:function(e){this.dropZones=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectallowed",{set:function(e){this.effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectcursor",{set:function(e){this.effectCursor=e},enumerable:!0,configurable:!0}),t.prototype._onDragStartCallback=function(e){this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this._elem.classList.add(this._config.onDragStartClass),this.onDragStart.emit({dragData:this.dragData,mouseEvent:e})},t.prototype._onDragEndCallback=function(e){this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this._elem.classList.remove(this._config.onDragStartClass),this.onDragEnd.emit({dragData:this.dragData,mouseEvent:e})},t.decorators=[{type:a.Directive,args:[{selector:"[dnd-draggable]"}]}],t.ctorParameters=[{type:a.ElementRef},{type:s.DragDropService},{type:n.DragDropConfig},{type:r.ChangeDetectorRef}],t.propDecorators={draggable:[{type:a.Input,args:["dragEnabled"]}],onDragStart:[{type:a.Output}],onDragEnd:[{type:a.Output}],dragData:[{type:a.Input}],onDragSuccessCallback:[{type:a.Output,args:["onDragSuccess"]}],dropzones:[{type:a.Input,args:["dropZones"]}],effectallowed:[{type:a.Input,args:["effectAllowed"]}],effectcursor:[{type:a.Input,args:["effectCursor"]}],dragImage:[{type:a.Input}],cloneItem:[{type:a.Input}]},t}(o.AbstractComponent))}}}),System.register("src/droppable.component",["node_modules/@angular/core/bundles/core.umd","src/abstract.component","src/dnd.config","src/dnd.service"],function(e,t){"use strict";var r,a,o,n,s,i,c;t&&t.id;return{setters:[function(e){r=e,a=e},function(e){o=e},function(e){n=e},function(e){s=e}],execute:function(){i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},e("DroppableComponent",c=function(e){function t(t,r,o,n){e.call(this,t,r,o,n),this.onDropSuccess=new a.EventEmitter,this.onDragEnter=new a.EventEmitter,this.onDragOver=new a.EventEmitter,this.onDragLeave=new a.EventEmitter,this.dropEnabled=!0}return i(t,e),Object.defineProperty(t.prototype,"droppable",{set:function(e){this.dropEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowdrop",{set:function(e){this.allowDrop=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropzones",{set:function(e){this.dropZones=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectallowed",{set:function(e){this.effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectcursor",{set:function(e){this.effectCursor=e},enumerable:!0,configurable:!0}),t.prototype._onDragEnterCallback=function(e){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragEnterClass),this.onDragEnter.emit({dragData:this._dragDropService.dragData,mouseEvent:e}))},t.prototype._onDragOverCallback=function(e){this._dragDropService.isDragged&&(this._elem.classList.add(this._config.onDragOverClass),this.onDragOver.emit({dragData:this._dragDropService.dragData,mouseEvent:e}))},t.prototype._onDragLeaveCallback=function(e){this._dragDropService.isDragged&&(this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass),this.onDragLeave.emit({dragData:this._dragDropService.dragData,mouseEvent:e}))},t.prototype._onDropCallback=function(e){this._dragDropService.isDragged&&(this.onDropSuccess.emit({dragData:this._dragDropService.dragData,mouseEvent:e}),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit({dragData:this._dragDropService.dragData,mouseEvent:e}),this._elem.classList.remove(this._config.onDragOverClass),this._elem.classList.remove(this._config.onDragEnterClass))},t.decorators=[{type:a.Directive,args:[{selector:"[dnd-droppable]"}]}],t.ctorParameters=[{type:a.ElementRef},{type:s.DragDropService},{type:n.DragDropConfig},{type:r.ChangeDetectorRef}],t.propDecorators={droppable:[{type:a.Input,args:["dropEnabled"]}],onDropSuccess:[{type:a.Output}],onDragEnter:[{type:a.Output}],onDragOver:[{type:a.Output}],onDragLeave:[{type:a.Output}],allowdrop:[{type:a.Input,args:["allowDrop"]}],dropzones:[{type:a.Input,args:["dropZones"]}],effectallowed:[{type:a.Input,args:["effectAllowed"]}],effectcursor:[{type:a.Input,args:["effectCursor"]}]},t}(o.AbstractComponent))}}}),System.register("src/sortable.component",["node_modules/@angular/core/bundles/core.umd","src/abstract.component","src/dnd.config","src/dnd.service"],function(e,t){"use strict";var r,a,o,n,s,i,c,l;t&&t.id;return{setters:[function(e){r=e,a=e},function(e){o=e},function(e){n=e},function(e){s=e}],execute:function(){i=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},e("SortableContainer",c=function(e){function t(t,r,a,o,n){e.call(this,t,r,a,o),this._sortableDataService=n,this._sortableData=[],this.dragEnabled=!1}return i(t,e),Object.defineProperty(t.prototype,"draggable",{set:function(e){this.dragEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortableData",{get:function(){return this._sortableData},set:function(e){this._sortableData=e,this.dropEnabled=0===this._sortableData.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropzones",{set:function(e){this.dropZones=e},enumerable:!0,configurable:!0}),t.prototype._onDragEnterCallback=function(e){if(this._sortableDataService.isDragged){var t=this._sortableDataService.sortableData[this._sortableDataService.index];this._sortableData.indexOf(t)===-1&&(this._sortableDataService.sortableData.splice(this._sortableDataService.index,1),this._sortableData.unshift(t),this._sortableDataService.sortableData=this._sortableData,this._sortableDataService.index=0),this.detectChanges()}},t.decorators=[{type:a.Directive,args:[{selector:"[dnd-sortable-container]"}]}],t.ctorParameters=[{type:a.ElementRef},{type:s.DragDropService},{type:n.DragDropConfig},{type:r.ChangeDetectorRef},{type:s.DragDropSortableService}],t.propDecorators={draggable:[{type:a.Input,args:["dragEnabled"]}],sortableData:[{type:a.Input}],dropzones:[{type:a.Input,args:["dropZones"]}]},t}(o.AbstractComponent)),e("SortableComponent",l=function(e){function t(t,r,o,n,s,i){e.call(this,t,r,o,i),this._sortableContainer=n,this._sortableDataService=s,this.onDragSuccessCallback=new a.EventEmitter,this.onDragStartCallback=new a.EventEmitter,this.onDragOverCallback=new a.EventEmitter,this.onDragEndCallback=new a.EventEmitter,this.onDropSuccessCallback=new a.EventEmitter,this.dropZones=this._sortableContainer.dropZones,this.dragEnabled=!0,this.dropEnabled=!0}return i(t,e),Object.defineProperty(t.prototype,"draggable",{set:function(e){this.dragEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"droppable",{set:function(e){this.dropEnabled=!!e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectallowed",{set:function(e){this.effectAllowed=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"effectcursor",{set:function(e){this.effectCursor=e},enumerable:!0,configurable:!0}),t.prototype._onDragStartCallback=function(e){this._sortableDataService.isDragged=!0,this._sortableDataService.sortableData=this._sortableContainer.sortableData,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this._dragDropService.isDragged=!0,this._dragDropService.dragData=this.dragData,this._dragDropService.onDragSuccessCallback=this.onDragSuccessCallback,this.onDragStartCallback.emit(this._dragDropService.dragData)},t.prototype._onDragOverCallback=function(e){this._sortableDataService.isDragged&&this._elem!=this._sortableDataService.elem&&(this._sortableDataService.sortableData=this._sortableContainer.sortableData,this._sortableDataService.index=this.index,this._sortableDataService.markSortable(this._elem),this.onDragOverCallback.emit(this._dragDropService.dragData))},t.prototype._onDragEndCallback=function(e){this._sortableDataService.isDragged=!1,this._sortableDataService.sortableData=null,this._sortableDataService.index=null,this._sortableDataService.markSortable(null),this._dragDropService.isDragged=!1,this._dragDropService.dragData=null,this._dragDropService.onDragSuccessCallback=null,this.onDragEndCallback.emit(this._dragDropService.dragData)},t.prototype._onDragEnterCallback=function(e){if(this._sortableDataService.isDragged&&(this._sortableDataService.markSortable(this._elem),this.index!==this._sortableDataService.index||this._sortableDataService.sortableData!=this._sortableContainer.sortableData)){var t=this._sortableDataService.sortableData[this._sortableDataService.index];this._sortableDataService.sortableData.splice(this._sortableDataService.index,1),this._sortableContainer.sortableData.splice(this.index,0,t),this._sortableDataService.sortableData=this._sortableContainer.sortableData,this._sortableDataService.index=this.index}},t.prototype._onDropCallback=function(e){this._sortableDataService.isDragged&&(this.onDropSuccessCallback.emit(this._dragDropService.dragData),this._dragDropService.onDragSuccessCallback&&this._dragDropService.onDragSuccessCallback.emit(this._dragDropService.dragData),this._sortableContainer.detectChanges())},t.decorators=[{type:a.Directive,args:[{selector:"[dnd-sortable]"}]}],t.ctorParameters=[{type:a.ElementRef},{type:s.DragDropService},{type:n.DragDropConfig},{type:c},{type:s.DragDropSortableService},{type:r.ChangeDetectorRef}],t.propDecorators={index:[{type:a.Input,args:["sortableIndex"]}],draggable:[{type:a.Input,args:["dragEnabled"]}],droppable:[{type:a.Input,args:["dropEnabled"]}],dragData:[{type:a.Input}],effectallowed:[{type:a.Input,args:["effectAllowed"]}],effectcursor:[{type:a.Input,args:["effectCursor"]}],onDragSuccessCallback:[{type:a.Output,args:["onDragSuccess"]}],onDragStartCallback:[{type:a.Output,args:["onDragStart"]}],onDragOverCallback:[{type:a.Output,args:["onDragOver"]}],onDragEndCallback:[{type:a.Output,args:["onDragEnd"]}],onDropSuccessCallback:[{type:a.Output,args:["onDropSuccess"]}]},t}(o.AbstractComponent))}}}),System.register("src/dnd.config",["node_modules/@angular/core/bundles/core.umd","src/dnd.utils"],function(e,t){"use strict";var r,a,o,n,s;t&&t.id;return{setters:[function(e){r=e},function(e){a=e}],execute:function(){e("DataTransferEffect",o=function(){function e(e){this.name=e}return e.COPY=new e("copy"),e.LINK=new e("link"),e.MOVE=new e("move"),e.NONE=new e("none"),e.decorators=[{type:r.Injectable}],e.ctorParameters=[null],e}()),e("DragImage",n=function(){function e(e,t,r){if(void 0===t&&(t=0),void 0===r&&(r=0),this.imageElement=e,this.x_offset=t,this.y_offset=r,a.isString(this.imageElement)){var o=this.imageElement;this.imageElement=new HTMLImageElement,this.imageElement.src=o}}return e.decorators=[{type:r.Injectable}],e.ctorParameters=[null,null,null],e}()),e("DragDropConfig",s=function(){function e(){this.onDragStartClass="dnd-drag-start",this.onDragEnterClass="dnd-drag-enter",this.onDragOverClass="dnd-drag-over",this.onSortableDragClass="dnd-sortable-drag",this.dragEffect=o.MOVE,this.dropEffect=o.MOVE,this.dragCursor="move"}return e.decorators=[{type:r.Injectable}],e.ctorParameters=[],e}())}}}),System.register("src/dnd.service",["node_modules/@angular/core/bundles/core.umd","src/dnd.config","src/dnd.utils"],function(e,t){"use strict";var r,a,o,n,s;t&&t.id;return{setters:[function(e){r=e},function(e){a=e},function(e){o=e}],execute:function(){e("DragDropService",n=function(){function e(){this.allowedDropZones=[]}return e.decorators=[{type:r.Injectable}],e.ctorParameters=[],e}()),e("DragDropSortableService",s=function(){function e(e){this._config=e}return Object.defineProperty(e.prototype,"elem",{get:function(){return this._elem},enumerable:!0,configurable:!0}),e.prototype.markSortable=function(e){o.isPresent(this._elem)&&this._elem.classList.remove(this._config.onSortableDragClass),o.isPresent(e)&&(this._elem=e,this._elem.classList.add(this._config.onSortableDragClass))},e.decorators=[{type:r.Injectable}],e.ctorParameters=[{type:a.DragDropConfig}],e}())}}}),System.register("src/dnd.utils",[],function(e,t){"use strict";function r(e){return"string"==typeof e}function a(e){return void 0!==e&&null!==e}function o(e){return"function"==typeof e}function n(e){var t=new HTMLImageElement;return t.src=e,t}function s(e){return e()}t&&t.id;return e("isString",r),e("isPresent",a),e("isFunction",o),e("createImage",n),e("callFun",s),{setters:[],execute:function(){}}}),System.register("src/abstract.component",["node_modules/@angular/core/bundles/core.umd","src/dnd.config","src/dnd.service","src/dnd.utils"],function(e,t){"use strict";var r,a,o,n,s,i;t&&t.id;return{setters:[function(e){r=e,a=e},function(e){o=e},function(e){n=e},function(e){s=e}],execute:function(){e("AbstractComponent",i=function(){function e(e,t,r,a){var o=this;this._dragDropService=t,this._config=r,this._cdr=a,this._dragEnabled=!1,this.dropEnabled=!1,this.dropZones=[],this.cloneItem=!1,this._elem=e.nativeElement,this._elem.ondragenter=function(e){o._onDragEnter(e)},this._elem.ondragover=function(e){return o._onDragOver(e),null!=e.dataTransfer&&(e.dataTransfer.dropEffect=o._config.dropEffect.name),!1},this._elem.ondragleave=function(e){o._onDragLeave(e)},this._elem.ondrop=function(e){o._onDrop(e)},this._elem.ondragstart=function(e){if(o._onDragStart(e),null!=e.dataTransfer){if(e.dataTransfer.setData("text",""),e.dataTransfer.effectAllowed=o.effectAllowed||o._config.dragEffect.name,s.isPresent(o.dragImage))if(s.isString(o.dragImage))e.dataTransfer.setDragImage(s.createImage(o.dragImage));else if(s.isFunction(o.dragImage))e.dataTransfer.setDragImage(s.callFun(o.dragImage));else{var t=o.dragImage;e.dataTransfer.setDragImage(t.imageElement,t.x_offset,t.y_offset)}else if(s.isPresent(o._config.dragImage)){var r=o._config.dragImage;e.dataTransfer.setDragImage(r.imageElement,r.x_offset,r.y_offset)}else o.cloneItem&&(o._dragHelper=o._elem.cloneNode(!0),o._dragHelper.classList.add("dnd-drag-item"),o._dragHelper.style.position="absolute",o._dragHelper.style.top="0px",o._dragHelper.style.left="-1000px",o._elem.parentElement.appendChild(o._dragHelper),e.dataTransfer.setDragImage(o._dragHelper,e.offsetX,e.offsetY));o._dragEnabled?o._elem.style.cursor=o.effectCursor?o.effectCursor:o._config.dragCursor:o._elem.style.cursor=o._defaultCursor}},this._elem.ondragend=function(e){o._elem.parentElement&&o._dragHelper&&o._elem.parentElement.removeChild(o._dragHelper),o._onDragEnd(e),o._elem.style.cursor=o._defaultCursor}}return Object.defineProperty(e.prototype,"dragEnabled",{get:function(){return this._dragEnabled},set:function(e){this._dragEnabled=!!e,this._elem.draggable=this._dragEnabled},enumerable:!0,configurable:!0}),e.prototype.detectChanges=function(){var e=this;setTimeout(function(){e._cdr.detectChanges()},250)},e.prototype._onDragEnter=function(e){this._isDropAllowed&&this._onDragEnterCallback(e)},e.prototype._onDragOver=function(e){this._isDropAllowed&&(e.preventDefault&&e.preventDefault(),this._onDragOverCallback(e))},e.prototype._onDragLeave=function(e){this._isDropAllowed&&this._onDragLeaveCallback(e)},e.prototype._onDrop=function(e){this._isDropAllowed&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),this._onDropCallback(e),this.detectChanges())},Object.defineProperty(e.prototype,"_isDropAllowed",{get:function(){if(this._dragDropService.isDragged&&this.dropEnabled){if(this.allowDrop)return this.allowDrop(this._dragDropService.dragData);if(0===this.dropZones.length&&0===this._dragDropService.allowedDropZones.length)return!0;for(var e=0;e<this._dragDropService.allowedDropZones.length;e++){var t=this._dragDropService.allowedDropZones[e];if(this.dropZones.indexOf(t)!==-1)return!0}}return!1},enumerable:!0,configurable:!0}),e.prototype._onDragStart=function(e){this._dragEnabled&&(this._dragDropService.allowedDropZones=this.dropZones,this._onDragStartCallback(e))},e.prototype._onDragEnd=function(e){this._dragDropService.allowedDropZones=[],this._onDragEndCallback(e)},e.prototype._onDragEnterCallback=function(e){},e.prototype._onDragOverCallback=function(e){},e.prototype._onDragLeaveCallback=function(e){},e.prototype._onDropCallback=function(e){},e.prototype._onDragStartCallback=function(e){},e.prototype._onDragEndCallback=function(e){},e.decorators=[{type:r.Injectable}],e.ctorParameters=[{type:a.ElementRef},{type:n.DragDropService},{type:o.DragDropConfig},{type:r.ChangeDetectorRef}],e}())}}}),System.register("index",["node_modules/@angular/core/bundles/core.umd","node_modules/@angular/common/bundles/common.umd","src/dnd.config","src/dnd.service","src/draggable.component","src/droppable.component","src/sortable.component","src/abstract.component"],function(e,t){"use strict";function r(t){var r={};for(var a in t)"default"===a||u.hasOwnProperty(a)||(r[a]=t[a]);e(r)}var a,o,n,s,i,c,l,p,d,g,u=(t&&t.id,{DND_PROVIDERS:!0,DND_DIRECTIVES:!0,DndModule:!0});return{setters:[function(e){a=e},function(e){o=e},function(e){n=e,r(e)},function(e){s=e,r(e)},function(e){i=e,r(e)},function(e){c=e,r(e)},function(e){l=e,r(e)},function(e){r(e)}],execute:function(){e("DND_PROVIDERS",p=[n.DragDropConfig,s.DragDropService,s.DragDropSortableService]),e("DND_DIRECTIVES",d=[i.DraggableComponent,c.DroppableComponent,l.SortableContainer,l.SortableComponent]),e("DndModule",g=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[n.DragDropConfig,s.DragDropService,s.DragDropSortableService]}},e.decorators=[{type:a.NgModule,args:[{imports:[o.CommonModule],declarations:[i.DraggableComponent,c.DroppableComponent,l.SortableContainer,l.SortableComponent],exports:[i.DraggableComponent,c.DroppableComponent,l.SortableContainer,l.SortableComponent]}]}],e.ctorParameters=[],e}())}}});
//# sourceMappingURL=bundles/ng2-dnd.min.js.map